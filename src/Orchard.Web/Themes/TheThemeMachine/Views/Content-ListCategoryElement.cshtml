@using Orchard.Utility.Extensions;
@using Orchard.Media.Helpers;
@using Orchard.ContentPicker.Fields;


@{
	//if (Model.Title != null) {
	//    Layout.Title = Model.Title;
	//}

	var fieldPicture = Model.ContentItem.MyLinkedPicture.Picture;
	var fieldLink = Model.ContentItem.MyLinkedPicture.Link;


	var contentTypeClassName = ((string)fieldPicture.DisplayName).HtmlClassify();
	string name = fieldPicture.DisplayName;

	var field = (ContentPickerField) fieldLink;
	var contentItems = field.ContentItems;
	string my_href = "";
	
	if (contentItems.Any())
	{
	  foreach (var contentItem in contentItems)
	  {
		  my_href = @Url.ItemDisplayUrl(contentItem);			
	  }
	}
	
}

<div class="category-list-element">
	<div class="category-list-element-image">
		<a href="@my_href" title="@Model.ContentItem.TitlePart.Title">
			@Display(Model.zone_Picture)
		</a>
	</div>

	<div class="category-list-element-link">
		@Display(Model.zone_Link)
	</div>
</div>


